#include "mouse.h"

/***************************************相对鼠标命令*********************************************************************/
uint16_t X_MAX=1920;
uint16_t Y_MAX=1080;
uint16_t CX,CY;
uint8_t DX_H,DX_L;
uint8_t DY_H,DY_L;
uint8_t 					PressLeft							[17]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x01,0x00,0x00,0x00,0x00,0x00,0x10,0xFF,0x0D,0x0A};	//按下左键
uint8_t 					PressRight						[17]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x11,0xFF,0x0D,0x0A};	//按下右键
uint8_t 					PressMiddle						[17]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x10,0xFF,0x0D,0x0A};	//按下中键
uint8_t 					PressRelease					[17]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0x0D,0x0A};	//释放按键
uint8_t 					MiddleUp							[17]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x00,0x00,0x00,0x00,0x00,0x01,0x10,0xFF,0x0D,0x0A};	//上滑滚轮
uint8_t 					MiddleDw							[17]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x00,0x00,0x00,0x00,0x00,0xFF,0x0E,0xFF,0x0D,0x0A};	//下滑滚轮

uint8_t									Move2Center						[16]							={0x57,0xAB,0x00,0x04,0x07,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0x0D,0x0A};	//默认1920*1080



void Cal(uint16_t X,uint16_t Y)
{
	uint8_t sum=0;
	CX=(4096*X)/X_MAX;
	CY=(4096*Y)/Y_MAX;
	DX_H=(CX>>8);
	DX_L=(uint8_t)CX;
	DY_H=(CY>>8);
	DY_L=(uint8_t)CY;
	Move2Center[7]=DX_L;
	Move2Center[8]=DX_H;
	Move2Center[9]=DY_L;
	Move2Center[10]=DY_H;
	for(int i=0;i<12;i++){
		sum+=Move2Center[i];
	}
	Move2Center[12]=sum;
	//Usart1_SendString(Move2Center);
}

/************************************************************************************************************/
